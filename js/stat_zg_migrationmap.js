/* stat_zg_migrationmap.js (version 0.3 (2017.11.28)*/

/*Angepasst von http://bl.ocks.org/cingraham/7663357 */

function loadMigrationMap(args) {
var number = (typeof args.number == 'undefined') ? 1 : args.number;
var csv_path = (typeof args.csv_path == 'undefined') ? "error" : args.csv_path;
//var dimension = (typeof args.dimension == 'undefined') ? "" : args.dimension;
//var group = (typeof args.group == 'undefined') ? "" : args.group;
//var characteristics = (typeof args.characteristics == 'undefined') ? [] : args.characteristics;
//var stack = (typeof args.stack == 'undefined') ? "" : args.stack
//var characteristicsStack = (typeof args.characteristicsStack == 'undefined') ? [] : args.characteristicsStack;
//var scale = (typeof args.scale == 'undefined') ? 1 : args.scale;
//var relative = (typeof args.relative == 'undefined') ? false : args.relative;
//var showTotal = (typeof args.showTotal == 'undefined') ? true : args.showTotal;
//var showAnteil = (typeof args.showAnteil == 'undefined') ? true : args.showAnteil;
//var showArea = (typeof args.showArea== 'undefined') ? true : args.showArea;
//var asDate = (typeof args.asDate == 'undefined') ? true : args.asDate;
//var dateUnit = (typeof args.dateUnit == 'undefined') ? "month" : args.dateUnit;
//var order = (typeof args.order == 'undefined') ? "alpha" : args.order;
//var last = (typeof args.last == 'undefined') ? "" : args.last;
//var partei = (typeof args.partei == 'undefined') ? false : args.partei;
//var highlight = (typeof args.highlight == 'undefined') ? {} : args.highlight;

//Attributeobjekt initialisieren
Atts[number]={};

Atts[number].maincontainer="default"+number
Atts[number].chartcontainer="chart"+number

//Container erstellen, falls diese noch nicht existieren (den Hauptcontainer braucht es unweigerlich)
createcontainers(number);

if ( $('#chart'+number+' svg').length ) {
	$('#chart'+number+' svg').remove();
}

function redraw(number) {

	var cantoncolors=['#fff','#76aa7c','#a0bd6d','#cece63','#ffdd5e','#007ac4','#A7D5F1','#A7D5F1']

	//Width and height
	Atts[number].w = document.getElementById(Atts[number].maincontainer).offsetWidth;
	Atts[number].h = 350;
	Atts[number].scalemax = 23000
	Atts[number].scalemin = 13000
	Atts[number].scale = Math.min( Atts[number].scalemin + (Atts[number].w - 275)*45, Atts[number].scalemax);
	Atts[number].lat = 8.508589899
	Atts[number].lon = 47.20479567
	  
	var formatC = d3.format(",.0f");
	var formatD = d3.format("+,.0f");

	var immin, immax, exmin, exmax;
 
	var projection = d3.geo.mercator()
		.center([Atts[number].lat,Atts[number].lon])
		.scale(Atts[number].scale)
		.translate([Atts[number].w / 2 , Atts[number].h / 2 ]);

	//Define path generator
	var path = d3.geo.path()
		.projection(projection);
	
	var colors = ['#007ac4','#ff403a'];
  
	var circleSize = d3.scale.linear().range([0,55000]).domain([0, 137175]);

	var lineSize = d3.scale.linear().range([2,75]).domain([0, 35000]);

	//Create SVG element
	Atts[number].svg = d3.select("#" + Atts[number].chartcontainer)
		.append("svg")
		.attr("width", Atts[number].w)
		.attr("height", Atts[number].h)
		.style("background", "#fff");
	
	var arrowhead="M374.203,1150c-25.391,0-50.818-9.721-70.199-29.044c-38.789-38.834-38.789-101.685,0-140.376L685.37,599.14L305.74,219.451c-38.716-38.741-38.716-101.614,0-140.379c38.799-38.763,101.663-38.763,140.389,0l449.857,449.915 c18.58,18.629,29.103,43.84,29.103,70.153c0,26.339-10.523,51.551-29.103,70.226l-451.592,451.59 C425.012,1140.279,399.621,1150,374.203,1150z"
	var markerblue={"id":"arrowblue", "viewBox":"0 -5 1200 1200", "refX":-200, "refY":600, "markerWidth":1, "markerHeight":1, "orient":"auto"};
	var markerred={"id":"arrowred", "viewBox":"0 -5 1200 1200", "refX":-200, "refY":600, "markerWidth":1, "markerHeight":1, "orient":"auto"};
	
	
	Atts[number].svg.append("marker")
		.attr(markerblue)
		.append("path")
			.attr("d", arrowhead)
			.attr("class","arrowHead")
			.attr("fill", colors[0]);
					
	Atts[number].svg.append("marker")
		.attr(markerred)
		.append("path")
			.attr("d", arrowhead)
			.attr("class","arrowHead")
			.attr("fill", colors[1]);
			
	Atts[number].svg.append("defs").append("clipPath")
		.attr("id", "clip" + number)
		.append("rect")
		.attr("width", Atts[number].w)
		.attr("height", Atts[number].h);
	
	Atts[number].g = Atts[number].svg.append("g");

	//var coming, going;
	/*d3.csv("coming.csv", function (data) {
		coming = data;
	});*/
					
	d3.csv(csv_path, function (data) {
		
treatmetadata(number, data);

	Atts[number].going = Atts[number].data;

	Atts[number].data = Atts[number].data.filter(function(el) {
		return el["Zielkanton"] != "Aegerisee" & el["Zielkanton"] != "Zugersee" & el["Zielkanton"] != "Zürichsee"
	});
	
	realjson='{"type":"FeatureCollection","features":[ \
		{"type":"Feature","id":"101","properties":{"name":"Restliche Schweiz"},"geometry": { "type": "Polygon", "coordinates": [ [ [ 7.506312364202002, 47.821374963700386 ], [ 10.432347700279628, 47.825896217798011 ], [ 10.451908927813527, 46.6554694073467 ], [ 7.508570299674735, 46.652911120901869 ], [ 7.506312364202002, 47.821374963700386 ] ] ] } }, \
		{"type":"Feature","id":"101","properties":{"name":"Zürich"},"geometry":{"type":"Polygon","coordinates":[[[8.6694201411745,47.674673055509011],[8.676866909620326,47.671776722655252],[8.679040803269222,47.66780468636744],[8.677454526506059,47.665844140745136],[8.679884288469978,47.658698440532717],[8.684602141765787,47.653397920885233],[8.686696846745255,47.653597256033329],[8.688055554466073,47.649978437457889],[8.700345695604216,47.6470316706014],[8.708648954393631,47.64191694575711],[8.714178802311725,47.644382899713932],[8.71721582047201,47.641811687812705],[8.720048298904786,47.641102233904199],[8.724650466496689,47.643058581133943],[8.73172444759736,47.64197045827121],[8.74291413352895,47.642805614373138],[8.743358483261671,47.639771055375903],[8.747194696452262,47.638646909528525],[8.74817924080361,47.640791093610801],[8.757689109889027,47.6431039435532],[8.764899462340567,47.648802658376155],[8.768825182926166,47.650186775651143],[8.776330881865153,47.648916483133434],[8.786006322384516,47.655207830585574],[8.788530509828822,47.665364310408087],[8.798411741193252,47.664961065530811],[8.803137954215837,47.665271353468007],[8.805250488147125,47.664727337978903],[8.803408892656838,47.660643010649629],[8.804852017623569,47.652235304225563],[8.814708568062667,47.649582812920279],[8.826436760176307,47.646749529884843],[8.827788412174472,47.640784547396827],[8.825322849632029,47.637414341458602],[8.820226531851898,47.629299866080892],[8.813135617786577,47.627441739563693],[8.811698689628178,47.62264856284731],[8.814277018666532,47.621114819270915],[8.811543108559416,47.618975855771644],[8.813992015869404,47.617217145510764],[8.805037763460129,47.613733972804766],[8.804009629450301,47.608130263018339],[8.802677987857047,47.601114079770795],[8.788780051858883,47.603440382868186],[8.790263551698876,47.608430347328444],[8.787848808298042,47.609544812183621],[8.762178486333001,47.618088430648555],[8.755098891830629,47.617184152899071],[8.749543687079557,47.621303126969892],[8.748117376911143,47.623044315336358],[8.746027246354753,47.621449990774451],[8.745804562563324,47.612948751131185],[8.740161548192065,47.611899397889601],[8.739387109070748,47.608095264847265],[8.741961567706861,47.60734330638212],[8.746299814965269,47.600348780858617],[8.748774539997163,47.600043760098892],[8.745656273425242,47.596490115808088],[8.748218841782201,47.592310389369793],[8.761946299785382,47.592859408824779],[8.79801482805728,47.585023922786036],[8.806038143930667,47.583149466485338],[8.802393642316206,47.582852748465292],[8.801060146443447,47.580540695262073],[8.806199821330418,47.579506656880177],[8.804737572762116,47.575062104718697],[8.808089696804597,47.574330208641612],[8.807405800992697,47.57157672386149],[8.81022518914318,47.570962859593251],[8.816585550030325,47.570171601989223],[8.817287270709246,47.571929786728688],[8.822006913655867,47.571612352702012],[8.822482830877863,47.573063241307992],[8.830012374824488,47.571103037218265],[8.831222449736909,47.573398440787315],[8.83880345728304,47.571197055097336],[8.839186395142375,47.565352728569074],[8.84483671178273,47.566138842437461],[8.844284146750342,47.563254332495681],[8.850964958869682,47.563610737275688],[8.851085465097617,47.560806822360355],[8.841628489279248,47.560021638443331],[8.83867022389868,47.557354816795105],[8.829450876912015,47.557600493597548],[8.827883886392978,47.555983437104061],[8.829902358622709,47.553083830650934],[8.834469049944023,47.542945520712507],[8.84115840000603,47.536869984517487],[8.84076129430343,47.532711204668821],[8.866504925961046,47.530473695340454],[8.87402248544845,47.529373754302881],[8.880395881101698,47.527030554655084],[8.883443930764862,47.52941824945168],[8.887589990460345,47.528390643212312],[8.898332062645618,47.524174662844487],[8.895298553195561,47.51925073452297],[8.897465104435231,47.507788449081943],[8.895030417409345,47.502743401322967],[8.892721393782704,47.499953144214729],[8.89280384050117,47.488417012389426],[8.896782340381638,47.487901348860404],[8.897693440930805,47.485112241214466],[8.885293294044841,47.481710480068294],[8.884869179624079,47.477017750028324],[8.881644886598879,47.474866598551749],[8.8847123039449,47.473471404362066],[8.88357687686864,47.470145616053543],[8.890595920648932,47.469266250575551],[8.893730247639292,47.46512822813758],[8.891707923798197,47.464370523860488],[8.893876429198741,47.463654467039206],[8.894248216442122,47.463105028179555],[8.900432463896321,47.454412668976396],[8.908803719831951,47.44833967372292],[8.90265072959874,47.444242994291649],[8.906814293578034,47.438790215716438],[8.921643235875996,47.434878697018156],[8.93271572552892,47.43554351015554],[8.930781137927413,47.431760565486137],[8.919156858613009,47.432750555929253],[8.913607212692744,47.431534904126913],[8.911310161024248,47.433771249226005],[8.907664284729972,47.430287437381715],[8.913079506538143,47.428182944467132],[8.914732767439007,47.427011053603742],[8.911730282768328,47.425243865265344],[8.913934326854934,47.418376472233547],[8.912685998991552,47.412844485349225],[8.90353842349189,47.402368368958655],[8.906136878437238,47.401363359871389],[8.920811249564133,47.399465857179635],[8.931828771834407,47.39157341546494],[8.941545649613072,47.387316758178244],[8.943663489002212,47.384126629065484],[8.940119860504533,47.379755566868688],[8.943524324038718,47.375916804642515],[8.94356961387285,47.375844040327834],[8.948295977063538,47.3746855871997],[8.951220769540557,47.371720759813257],[8.960249441797256,47.353696362349723],[8.96744761068909,47.354257611359685],[8.971631957129704,47.351930351344485],[8.974412018983063,47.347383050726407],[8.973097562622492,47.339870385864344],[8.979276935442329,47.33794880655423],[8.97732258115178,47.327181188889647],[8.984940488845746,47.319389174680701],[8.974996064682932,47.307121381284404],[8.957589752085827,47.304765710682531],[8.948899114940257,47.292171883653332],[8.933712826325618,47.288307807661468],[8.940567131270154,47.28436508179793],[8.94143338458608,47.279867757556616],[8.943638613384223,47.279597458439859],[8.945621974169244,47.282040460700529],[8.948818378249957,47.280942679287989],[8.947135282468375,47.274945381335641],[8.941483110226953,47.272204882366481],[8.944454332030629,47.26949747526124],[8.940287719064377,47.267350924947223],[8.935848759980304,47.260354974329125],[8.909178655825002,47.254468913753371],[8.908292698380709,47.256745760156221],[8.885244112600448,47.252813172034543],[8.873487357626573,47.251991377963023],[8.873756655799127,47.24766453542999],[8.870168930981189,47.245316376210923],[8.860701144174492,47.243264639806213],[8.855229999324147,47.244386098044139],[8.851710421358723,47.251118804351869],[8.844735969204715,47.248627402091316],[8.844716244641242,47.246976089824862],[8.83781566067004,47.246995151811753],[8.828323483001819,47.250464087331352],[8.821822489773309,47.250793645371012],[8.804556177656661,47.247023373508263],[8.799269287062121,47.242115019474298],[8.796516726618419,47.242524445104209],[8.795762160261017,47.239045538085506],[8.808598067123651,47.220089829702829],[8.79337013253198,47.222564693812622],[8.740524834389184,47.211579847316976],[8.721240978734366,47.204985528404421],[8.71309821837335,47.203037134906943],[8.710088326460639,47.200422761758666],[8.704042194259678,47.202302209833469],[8.702329992608641,47.197962947155354],[8.694182181365582,47.19635891580608],[8.681095250611639,47.183719705874829],[8.682622143046775,47.173965451382365],[8.691348111937984,47.169018973351214],[8.692048689374316,47.166714686773012],[8.692194743996895,47.163400348676547],[8.674978204327683,47.159444859923653],[8.665773192115367,47.159665681383913],[8.661229145251101,47.160951269428452],[8.66073027440922,47.170310375397243],[8.652286173202754,47.171038156101737],[8.641671450446657,47.168929393961285],[8.639363926613564,47.171469258974284],[8.632798241774154,47.171871450797937],[8.623993307287813,47.173338599145737],[8.628113805876616,47.179512636830168],[8.620629858606909,47.187746070552578],[8.620901421719902,47.190329655052317],[8.617393145816941,47.192289040383045],[8.615162474048098,47.199340446844452],[8.608894648698625,47.204437591330581],[8.605538614237743,47.205134635920643],[8.603149949821448,47.203038090444188],[8.59835090573845,47.201773613568612],[8.596328429541282,47.204890717103495],[8.597692224866437,47.208944742559027],[8.594160570658572,47.21205369936056],[8.587879720267232,47.212569935336418],[8.582601541734174,47.210645577723966],[8.58101389444203,47.214567083577265],[8.583390206328957,47.217486697341876],[8.577168878166111,47.218660388616087],[8.574363083557836,47.21706812989359],[8.560344781777083,47.219544136918444],[8.553836415122666,47.223237118873492],[8.552954839690512,47.221655526165108],[8.543440103516414,47.222047008793353],[8.539155142708525,47.222905499717392],[8.536362118974131,47.220600666045833],[8.532617018975298,47.221369416340984],[8.531079447708958,47.217562731491562],[8.512563838715653,47.21941481156869],[8.512332080576709,47.215518963482104],[8.498394219517891,47.212069533749357],[8.489131822365005,47.210813667751481],[8.479897424295318,47.208621548130843],[8.476219839957201,47.210021423167447],[8.473296587156355,47.20852534322114],[8.473835673159703,47.210624265133092],[8.470090427908701,47.213404440761494],[8.461402995037126,47.213631063749332],[8.456678015754976,47.218571838952265],[8.452944751833668,47.21776057542494],[8.452096966852984,47.219600419415549],[8.44792337060729,47.22010972933338],[8.446639981074158,47.223378925538611],[8.443800335498009,47.222637513284667],[8.441121666597756,47.225215218662989],[8.437157017449776,47.223686555175341],[8.429758736866996,47.224951022021585],[8.42168464493971,47.223320680558963],[8.418277180486022,47.226771535223676],[8.417025833707076,47.233772003044109],[8.414195709741536,47.239154926381474],[8.416486668352507,47.241322264652752],[8.41399877452896,47.243670898834004],[8.410073361705294,47.248375752419747],[8.402854278510853,47.254676310296013],[8.404486775068236,47.260280169777317],[8.400613779447047,47.264712846866921],[8.401432463502182,47.268159886943586],[8.401987890033869,47.272710769918923],[8.394995067976295,47.278088976311189],[8.391602196294617,47.286493295807134],[8.388635384313304,47.290028125461831],[8.392698066255765,47.290916369463012],[8.397218580414576,47.287904354997977],[8.403576783894788,47.291763114329122],[8.414650845928321,47.29360181367575],[8.429126244653101,47.300678393746466],[8.428541039959777,47.301153549213517],[8.430736932622779,47.304988052086657],[8.429268651600323,47.307244986886822],[8.436201670360964,47.315198130986452],[8.441311414929395,47.315829478357486],[8.441193235305308,47.317951793998759],[8.449159315251022,47.323352888274314],[8.448505851079053,47.325975742574634],[8.452403303258315,47.328703844545181],[8.45411054850489,47.334754653656852],[8.450994214239332,47.333625119862006],[8.449842263621452,47.330491378665428],[8.442073301589042,47.327421539814495],[8.434764780875327,47.325322990363645],[8.432729650561518,47.326409426145304],[8.429427735272325,47.327360311091837],[8.416280239060784,47.32446485383408],[8.412576582326528,47.328563498291246],[8.416724863104251,47.333805478324294],[8.416378167959396,47.337124812938377],[8.407308912614065,47.341576706344028],[8.404778243617391,47.344976423885605],[8.406761903436889,47.351896446349237],[8.409271566401447,47.355072876759102],[8.407364509097135,47.355544936125675],[8.404927868535076,47.364100568216273],[8.408190584577815,47.366651615907855],[8.407031343127466,47.370227994388195],[8.400358753819173,47.370515296124687],[8.399588495355024,47.374783749869223],[8.394936633996306,47.380721791719992],[8.396461477905966,47.393993679873823],[8.391900261006166,47.395840484644275],[8.383090683706932,47.394677269049687],[8.379336997425911,47.399909374113676],[8.366375377010282,47.398823834530504],[8.362483789028946,47.402315901258135],[8.365817814950196,47.402512529586339],[8.36742637058336,47.400736902643729],[8.369076666706185,47.403315224565141],[8.374219939914424,47.404531590249931],[8.379242455970381,47.402408151449592],[8.3819942713606,47.403519056208523],[8.384610960966342,47.406216618466146],[8.381145164653001,47.410307758708278],[8.385315040650513,47.414445964241359],[8.38174871674587,47.416265344316841],[8.383791256426367,47.418025585999963],[8.387538280989066,47.416359542795107],[8.392179596473529,47.420980221894261],[8.387620684253767,47.427958994558558],[8.377250917546302,47.42940739829276],[8.374652713238389,47.432248531451108],[8.377084689399354,47.433830525062433],[8.382858107617308,47.432905576974129],[8.383928772450666,47.434915835801981],[8.381114498486907,47.446222766921572],[8.381749868015591,47.448697598390439],[8.386892830736494,47.449599066741278],[8.384414572908602,47.454914265283584],[8.380277999449708,47.456190204324784],[8.378909500450971,47.459259321445437],[8.37273683046209,47.459716178461285],[8.368841251896121,47.465803351011793],[8.365673242685649,47.466214631362256],[8.367784909460786,47.470356646874151],[8.375313596767137,47.471138173904443],[8.373253548552123,47.481469323824719],[8.363262876766116,47.480856249618718],[8.362645025333659,47.49060847839695],[8.358430580227202,47.49748113141851],[8.363091718009231,47.501143190218329],[8.359208039126175,47.500905910604168],[8.357832728304755,47.502467487259779],[8.361221132512142,47.510101523387547],[8.368187865276484,47.511188474176016],[8.367353635947282,47.512208034937011],[8.37378233549938,47.511017519755619],[8.378788142341405,47.513666703112719],[8.381619136584908,47.525548542031146],[8.386639669351737,47.528872174934463],[8.392051500276308,47.525143931200276],[8.393311838289357,47.525719534038025],[8.395076557174001,47.531760092381063],[8.402558089975962,47.533240404481134],[8.402805448122196,47.533361768590403],[8.404416040164321,47.534315459036954],[8.401443595104924,47.53913624417892],[8.404206409859674,47.538212616093013],[8.405092032331352,47.541855873098363],[8.411119648479373,47.546099721982692],[8.417392124163708,47.545885966750795],[8.414436341228969,47.55389201589243],[8.418814763150145,47.565181918070365],[8.425664364932675,47.567859615271473],[8.434176036892387,47.566684194765969],[8.456161263213376,47.572434054538149],[8.464169363478055,47.572193672184099],[8.476813532850381,47.577852128049535],[8.483842453903206,47.577083652822573],[8.487332334370812,47.577867266379094],[8.494733870555411,47.581032772904265],[8.487260315935547,47.587420424231688],[8.468191686391204,47.583913809749255],[8.464805237875547,47.588008834207777],[8.460523137906955,47.588378882719184],[8.461220504696056,47.592667095802412],[8.457023867571872,47.597380803565805],[8.456678270212599,47.602316864978057],[8.46643851357765,47.602949727948925],[8.471375663995905,47.606592743105544],[8.470302478978757,47.60855424668199],[8.475024383363305,47.607721107351978],[8.477810034851933,47.610665507216389],[8.479193766757302,47.61520953716434],[8.483280119643451,47.613672050234079],[8.493313026365708,47.614436865355565],[8.508330693113249,47.617519946069258],[8.507426119320707,47.62381976205819],[8.515124535958741,47.623384855846524],[8.512832462686832,47.625595590817056],[8.516522393141189,47.632050809415269],[8.515646729244001,47.63379119508393],[8.520756005385781,47.634316274866976],[8.525619358357309,47.631709435479394],[8.53820175302149,47.631185544120257],[8.538681368266277,47.626291947947493],[8.542909950795707,47.627050546755044],[8.54431908367488,47.625153260267723],[8.557883603514604,47.62445563235341],[8.562917524179909,47.616701564625956],[8.569321959979797,47.617201193338516],[8.571215161154356,47.612485413393067],[8.574509251828195,47.611967637620459],[8.566377480526828,47.60985939799923],[8.566004592788296,47.605195026727657],[8.561639407675088,47.601305426985576],[8.563065993366672,47.599448853197515],[8.556741051515216,47.597504902232089],[8.555474377101842,47.593960511363512],[8.547740786618171,47.592740841868242],[8.545428249096975,47.591847661391135],[8.537158053706893,47.587517546943772],[8.535335970693923,47.587117860342509],[8.536991597592834,47.583432779468367],[8.533548108419673,47.582158440681027],[8.540128519455346,47.578208603287628],[8.534832809203303,47.575496964335343],[8.546377300470649,47.574165745063297],[8.546205334209747,47.571311176237714],[8.541583201290758,47.569927856370782],[8.548287530415513,47.564402503020261],[8.554080065784326,47.553185353882178],[8.558478762480705,47.552768823084442],[8.563237442534833,47.557598785077289],[8.567510602112849,47.562557802193304],[8.572008173244933,47.574374577575291],[8.579889614379121,47.576783430177379],[8.577430608804407,47.587688486203731],[8.581318546155741,47.592092906648652],[8.587366084713432,47.594341701695861],[8.592106908248425,47.595355021004515],[8.592924468387119,47.595600813210702],[8.594251360897132,47.596441427253623],[8.595712689903836,47.605612525309056],[8.603385587060787,47.610994218880727],[8.605142282524284,47.616013507763576],[8.598077026820485,47.627044366495106],[8.595821074691191,47.64301919622072],[8.601974249220072,47.646263729040122],[8.605074536115604,47.651947362997518],[8.60794314111304,47.652355710018604],[8.612862768867073,47.649374402755221],[8.614004917506856,47.644540437017994],[8.611003846227348,47.6419423407511],[8.604150699696115,47.64127037611771],[8.603355282848256,47.638862673555664],[8.606909664870367,47.637080049290084],[8.615740889121598,47.637743147711355],[8.623334932083862,47.640921743449823],[8.62825965187095,47.648343491813037],[8.627837169111714,47.653617913837905],[8.614523476622626,47.661560899647405],[8.612817760546662,47.660805739797524],[8.608788201370178,47.663419965002298],[8.606180849360666,47.66866574372532],[8.613586425005956,47.678540368698748],[8.618713985113839,47.675138409042347],[8.623954387886467,47.676341437565],[8.627348776865029,47.680144389715991],[8.625104158556915,47.691672595069832],[8.632275205845332,47.692334355972072],[8.644525193200996,47.694096860310879],[8.663396805666073,47.685787164513165],[8.66941873477707,47.684853358555543],[8.668131586227609,47.67763483369616],[8.6694201411745,47.674673055509011]]]}},\
		{"type":"Feature","id":"119","properties":{"name":"Aargau"},"geometry":{"type":"Polygon","coordinates":[[[8.22397281187405,47.607095962270648],[8.226064615643628,47.605141351214975],[8.228889112345092,47.605510460949432],[8.238465371340631,47.612827655078846],[8.244882013744295,47.6124876569232],[8.257913637341355,47.615312329026452],[8.261309899258663,47.613522252183799],[8.265113588712142,47.609267649283431],[8.278436109816823,47.611686148413362],[8.288910057082415,47.610164652501737],[8.297667411084211,47.605352223524456],[8.295320476918732,47.594557487038642],[8.297525427736955,47.589471110098891],[8.316444854813154,47.578828336071325],[8.324562632320388,47.572580990139514],[8.337335014410106,47.570383160075295],[8.361762386065291,47.569424524409207],[8.382976699449173,47.565769108025293],[8.392096268577539,47.574902044534205],[8.399349912462768,47.577055952491236],[8.416242483588787,47.570642038400855],[8.425664364932675,47.567859615271473],[8.418814763150145,47.565181918070365],[8.414436341228969,47.55389201589243],[8.417392124163708,47.545885966750795],[8.411119648479373,47.546099721982692],[8.405092032331352,47.541855873098363],[8.404206409859674,47.538212616093013],[8.401443595104924,47.53913624417892],[8.404416040164321,47.534315459036954],[8.402805448122196,47.533361768590403],[8.402558089975962,47.533240404481134],[8.395076557174001,47.531760092381063],[8.393311838289357,47.525719534038025],[8.392051500276308,47.525143931200276],[8.386639669351737,47.528872174934463],[8.381619136584908,47.525548542031146],[8.378788142341405,47.513666703112719],[8.37378233549938,47.511017519755619],[8.367353635947282,47.512208034937011],[8.368187865276484,47.511188474176016],[8.361221132512142,47.510101523387547],[8.357832728304755,47.502467487259779],[8.359208039126175,47.500905910604168],[8.363091718009231,47.501143190218329],[8.358430580227202,47.49748113141851],[8.362645025333659,47.49060847839695],[8.363262876766116,47.480856249618718],[8.373253548552123,47.481469323824719],[8.375313596767137,47.471138173904443],[8.367784909460786,47.470356646874151],[8.365673242685649,47.466214631362256],[8.368841251896121,47.465803351011793],[8.37273683046209,47.459716178461285],[8.378909500450971,47.459259321445437],[8.380277999449708,47.456190204324784],[8.384414572908602,47.454914265283584],[8.386892830736494,47.449599066741278],[8.381749868015591,47.448697598390439],[8.381114498486907,47.446222766921572],[8.383928772450666,47.434915835801981],[8.382858107617308,47.432905576974129],[8.377084689399354,47.433830525062433],[8.374652713238389,47.432248531451108],[8.377250917546302,47.42940739829276],[8.387620684253767,47.427958994558558],[8.392179596473529,47.420980221894261],[8.387538280989066,47.416359542795107],[8.383791256426367,47.418025585999963],[8.38174871674587,47.416265344316841],[8.385315040650513,47.414445964241359],[8.381145164653001,47.410307758708278],[8.384610960966342,47.406216618466146],[8.3819942713606,47.403519056208523],[8.379242455970381,47.402408151449592],[8.374219939914424,47.404531590249931],[8.369076666706185,47.403315224565141],[8.36742637058336,47.400736902643729],[8.365817814950196,47.402512529586339],[8.362483789028946,47.402315901258135],[8.366375377010282,47.398823834530504],[8.379336997425911,47.399909374113676],[8.383090683706932,47.394677269049687],[8.391900261006166,47.395840484644275],[8.396461477905966,47.393993679873823],[8.394936633996306,47.380721791719992],[8.399588495355024,47.374783749869223],[8.400358753819173,47.370515296124687],[8.407031343127466,47.370227994388195],[8.408190584577815,47.366651615907855],[8.404927868535076,47.364100568216273],[8.407364509097135,47.355544936125675],[8.409271566401447,47.355072876759102],[8.406761903436889,47.351896446349237],[8.404778243617391,47.344976423885605],[8.407308912614065,47.341576706344028],[8.416378167959396,47.337124812938377],[8.416724863104251,47.333805478324294],[8.412576582326528,47.328563498291246],[8.416280239060784,47.32446485383408],[8.429427735272325,47.327360311091837],[8.432729650561518,47.326409426145304],[8.434764780875327,47.325322990363645],[8.442073301589042,47.327421539814495],[8.449842263621452,47.330491378665428],[8.450994214239332,47.333625119862006],[8.45411054850489,47.334754653656852],[8.452403303258315,47.328703844545181],[8.448505851079053,47.325975742574634],[8.449159315251022,47.323352888274314],[8.441193235305308,47.317951793998759],[8.441311414929395,47.315829478357486],[8.436201670360964,47.315198130986452],[8.429268651600323,47.307244986886822],[8.430736932622779,47.304988052086657],[8.428541039959777,47.301153549213517],[8.429126244653101,47.300678393746466],[8.414650845928321,47.29360181367575],[8.403576783894788,47.291763114329122],[8.397218580414576,47.287904354997977],[8.392698066255765,47.290916369463012],[8.388635384313304,47.290028125461831],[8.391602196294617,47.286493295807134],[8.394995067976295,47.278088976311189],[8.401987890033869,47.272710769918923],[8.401432463502182,47.268159886943586],[8.400613779447047,47.264712846866921],[8.404486775068236,47.260280169777317],[8.402854278510853,47.254676310296013],[8.410073361705294,47.248375752419747],[8.41080167824277,47.245495611963875],[8.408128515752747,47.242462435424613],[8.405824049660762,47.236715912404307],[8.396021387259914,47.228876168617361],[8.396486119900679,47.219965557128667],[8.4008178428377,47.215096579521671],[8.400486077341176,47.208329815700047],[8.405292241578096,47.19572762775158],[8.400263233063951,47.18358189295482],[8.402523053649174,47.176692463922649],[8.411878211484096,47.173264373214394],[8.415304129651181,47.164129705136709],[8.41452348333811,47.157395029136104],[8.414208583989097,47.157056339178212],[8.411952996158018,47.153606946859348],[8.414867469803854,47.145261503978951],[8.412205578568972,47.140566756471877],[8.405290545417776,47.137480027819066],[8.389974503245211,47.139769355243004],[8.37608038922987,47.139254709851137],[8.374820186478187,47.143050696555989],[8.362168827004453,47.146099173303234],[8.360905246556603,47.152525118642906],[8.358353866432648,47.153287170381837],[8.358106869060622,47.156791570525492],[8.347606061480706,47.16454881682661],[8.349112494982871,47.166009720609658],[8.338974997999193,47.177477420052746],[8.33926145747693,47.184252979397527],[8.338200761708846,47.18858468211738],[8.330436844717823,47.197354602947634],[8.330079858923588,47.202347504629159],[8.327321069641446,47.210791201880944],[8.325193219203218,47.214713251792972],[8.319451811797535,47.215619391706099],[8.320704576450813,47.221126825667888],[8.318438032384259,47.223460972403828],[8.314161867141635,47.235076236094777],[8.314824063416189,47.239730699852743],[8.306650273204371,47.250753832773576],[8.301141303155958,47.252264429981011],[8.299596203615369,47.254717649221583],[8.2990418706433,47.255483250625616],[8.294433924661679,47.265388857706739],[8.300254883237983,47.271483871110604],[8.297965659015016,47.272003102641342],[8.286910304383772,47.279285197880213],[8.278633704391412,47.282123265081893],[8.273209415429674,47.280647251713425],[8.270675534461407,47.283476902307676],[8.261732270709674,47.282541129764603],[8.258708341612641,47.287193780787042],[8.250716725702379,47.286086880331112],[8.24865423649654,47.281197951141316],[8.242224042944606,47.278720998049593],[8.242380609466254,47.272318390650646],[8.228574366959078,47.273417658889095],[8.223295109250431,47.260713181399161],[8.222479219462818,47.258749382831184],[8.219742472118419,47.252161165691781],[8.207788209897107,47.247347786482564],[8.204495756333573,47.242641925795795],[8.202744415021973,47.23001881460744],[8.205053154768265,47.225990562746688],[8.194017282694356,47.226306129661779],[8.185435059623858,47.222465305903725],[8.175983336476026,47.221902620729139],[8.172775132697522,47.225041152827814],[8.174110557623475,47.227487812571091],[8.172057571940613,47.228154924631077],[8.165565348743646,47.228439625855934],[8.160762477272069,47.231751756390352],[8.160009882713094,47.234437761290046],[8.162111236912882,47.235801886053181],[8.156005452063118,47.237896275415146],[8.155941434374837,47.239419047278211],[8.169774058548869,47.241949429216781],[8.171111025901425,47.240177662503449],[8.175130876708288,47.240114296335037],[8.180147622237248,47.245560121846083],[8.17970482656917,47.25043878096298],[8.174900677351101,47.253536350763802],[8.165147255476464,47.250181368706649],[8.142684745775298,47.247277366050902],[8.133960630436611,47.246474532624575],[8.129702170117305,47.243336149020273],[8.12441675136381,47.241369331795255],[8.119574952948495,47.24385754416376],[8.109084758254614,47.244547536086543],[8.105931619638362,47.252103974810744],[8.098773789460159,47.260189395622859],[8.088281559117975,47.262879061721442],[8.078368945598196,47.260043433507079],[8.072660709607106,47.255054035938706],[8.058597257951554,47.256706651145421],[8.056572039118441,47.255438695955164],[8.062974589407414,47.246669358767591],[8.028425036578337,47.240949065053812],[8.01585418781614,47.244113738002589],[8.017521707835495,47.255936764489228],[8.013753495141088,47.262037006544155],[8.004802624245297,47.271188354679047],[8.004790359621177,47.274372378950872],[7.997656868914262,47.279766881470536],[7.99529246213315,47.281553285546558],[7.986886995534561,47.276023293668985],[7.973452596638413,47.274486354118501],[7.971664641399197,47.276114180473094],[7.956019902920867,47.276859710789765],[7.950635377714423,47.274782784494775],[7.949332302414597,47.271438099450187],[7.951651178148921,47.265693362001201],[7.961596351464944,47.254568413027961],[7.933482481494659,47.235895600827874],[7.92192237082728,47.237804920342199],[7.910100607973146,47.243946412834951],[7.894658143893491,47.242609984706441],[7.867394445301208,47.237296085915553],[7.853209006227106,47.232423642662759],[7.842002810196269,47.235717220501137],[7.83866605711435,47.234818579302384],[7.828249772020891,47.242999655414756],[7.825737415843475,47.248715218373931],[7.82812437653749,47.249893372238574],[7.825994609467475,47.251778197959801],[7.827739856131261,47.25335673247082],[7.830375972014984,47.25926759907361],[7.825107753932061,47.265572621255359],[7.828133090048352,47.266430636763104],[7.833175084130557,47.267875463194592],[7.841805685971053,47.274470591726129],[7.849545312811721,47.288372375841014],[7.851558266003224,47.289942373877381],[7.861081239428003,47.306108684858089],[7.873515565471665,47.311699847492008],[7.880741578790193,47.311522031548549],[7.888661240993871,47.311267037003866],[7.891749232504743,47.315742033604728],[7.898094945787236,47.319824266277038],[7.89684885841153,47.327657853642336],[7.907893674937064,47.339483203439876],[7.907805462862672,47.341718949449572],[7.915827969506143,47.336628692155791],[7.918185971510116,47.335315533688814],[7.919208661944831,47.33395060989421],[7.931227664529771,47.333040794390868],[7.947830567829747,47.332516770138142],[7.949038829415615,47.317508782931391],[7.963677297558992,47.320999986384919],[7.976503228671817,47.323443722058947],[7.977817173172007,47.325983140998829],[7.985330852605508,47.327568993710038],[7.9918403447989,47.332604229144394],[8.001070213085038,47.334751652874438],[8.007355702691051,47.33930386935198],[8.003836591427714,47.345314505878719],[8.011816428550713,47.349815223502048],[8.012820706462669,47.354329716289179],[8.010473516717148,47.356950556482296],[8.019145629290323,47.363606699348502],[8.022941486330206,47.364884458036961],[8.025158495536134,47.367725844902957],[8.027381153451559,47.371121176747764],[8.031366801755373,47.383685473236781],[8.027412477081471,47.393215669460631],[8.026561134320552,47.395622294196912],[8.020328611427884,47.395806716311974],[8.019968431147785,47.39398883333299],[8.010455757233029,47.395131603191352],[8.007261633992485,47.406585702277454],[8.001762111590915,47.409453692028535],[7.991465425050986,47.411197662040166],[7.989471267409181,47.414149188550788],[7.981898064693139,47.413616371433449],[7.974218723482323,47.419464691737097],[7.963199146507653,47.422354444537149],[7.982703347596725,47.428332346285593],[7.985465183167093,47.422763907313552],[7.987270584639688,47.428743295675375],[7.981984545361292,47.446235850591627],[7.974878147181394,47.452001518661021],[7.976603116194499,47.454203088903292],[7.973960777968058,47.459649255096004],[7.968283627963184,47.4628080623418],[7.960633710292789,47.457777153617144],[7.960718088358158,47.45546550037551],[7.956834797798638,47.455211343809545],[7.957614117151159,47.458806387798518],[7.948854318572926,47.463779547639518],[7.940027781123999,47.462021151513731],[7.9465898159491,47.485142870627243],[7.933288284075702,47.481407610787414],[7.904821929207739,47.48490922001919],[7.904769124578795,47.492174929252862],[7.899574221000901,47.496173906236052],[7.898309524223505,47.501207989070423],[7.895337942373595,47.502251358838592],[7.894157022134157,47.505724149335649],[7.884076550503677,47.508490911874262],[7.87802569289969,47.513884324967179],[7.875671062711117,47.513192940856825],[7.876658639427543,47.522690221285721],[7.872256967495806,47.522299701897019],[7.869448178860742,47.519325052569314],[7.863956758572608,47.519309037102879],[7.863366064860076,47.523619317547116],[7.857309663628953,47.533210952482662],[7.852330194015186,47.535234968675979],[7.846527241288388,47.532660912851114],[7.833207533564023,47.533823850423062],[7.835293679300832,47.531760362279243],[7.833221678235408,47.530323777647482],[7.831976239539672,47.514736510262821],[7.814709914250502,47.504801208230433],[7.807418092976381,47.49713837235992],[7.799785530476534,47.498038989101161],[7.799527286685727,47.497655884102507],[7.798707651550581,47.498854389945926],[7.798162797826342,47.499399362121103],[7.798447218795289,47.496285855844931],[7.796865428402126,47.495050020273446],[7.7935943322968,47.496074582154598],[7.787873370860153,47.493219605642246],[7.787095039566621,47.493740495792999],[7.790995013230487,47.496899477013791],[7.791721813785802,47.501936247868727],[7.791622584988943,47.503165487086243],[7.792335900703699,47.503712945358444],[7.789857689361947,47.505085237804046],[7.789764719960925,47.504784643926904],[7.78768293948705,47.513816180574878],[7.789972755572175,47.518375401331298],[7.78763368811859,47.520116937791109],[7.757861782815238,47.52605092262489],[7.750629332758975,47.525486322899766],[7.749022365993113,47.52498492175139],[7.737901919420391,47.527354594134238],[7.734025786456688,47.531270564723933],[7.733221804775931,47.532754606018003],[7.72591181135302,47.533461351476966],[7.723622881024446,47.536754114716111],[7.715956242653594,47.53582191347661],[7.713520041974342,47.539639388958022],[7.719592631319615,47.541781653411462],[7.746642964772406,47.543894646879011],[7.755279002765659,47.546299900437589],[7.758722747112743,47.548554798916456],[7.782443253144505,47.553107105032275],[7.796246615111291,47.557683902445319],[7.80137099011486,47.563669265681455],[7.811666194413494,47.569433408662114],[7.814456318700952,47.579912092668238],[7.819522425956663,47.587291643190284],[7.831509616964428,47.586974993890379],[7.837363806090217,47.583031536536595],[7.846514594340904,47.582434063893047],[7.869374870920926,47.588807111041703],[7.887023127093453,47.588599122054823],[7.898060577900414,47.584120008741962],[7.904728040561279,47.579264785688238],[7.910881931082648,47.570784557850395],[7.911350282967026,47.566355298402165],[7.907255840682375,47.560555863241269],[7.908693015367793,47.555050468226746],[7.917329487400979,47.54768593461452],[7.932525037620331,47.546921419882644],[7.940213472174942,47.544584476261278],[7.947774486239854,47.544748676574088],[7.952314250036572,47.554365507885308],[7.955643428154275,47.556779131676308],[7.960144093364042,47.558149205858804],[7.964749410477006,47.557197347128202],[7.978193695984263,47.555228009642597],[7.998835987245524,47.556499047285548],[8.008079445592802,47.554594794530182],[8.00816108272917,47.554554712409022],[8.014351620397246,47.551384422317597],[8.021340377486895,47.550346227375492],[8.046036990941756,47.555318751789102],[8.059371955992209,47.563535863131804],[8.067255074930042,47.564482859273326],[8.083528552874464,47.557610677387231],[8.090213015949498,47.557898911228982],[8.097050110009016,47.560847494400377],[8.10088376575804,47.565009892162713],[8.102880070427027,47.575762983074348],[8.106928591449813,47.580588842490251],[8.113089608564227,47.583618399873032],[8.126121460557147,47.58331285312633],[8.136746309524593,47.584103168501173],[8.13819077133161,47.590112731658003],[8.148040479110795,47.595550181653223],[8.159315218496033,47.593730515153517],[8.165163464791627,47.59428663527386],[8.175175884428461,47.601956349823276],[8.184599674737665,47.604998002360212],[8.193211709831346,47.615652044561756],[8.201149073262403,47.620314297961066],[8.212713857793387,47.620395384751106],[8.221288357002665,47.615609593274868],[8.22397281187405,47.607095962270648]]]}},\
		{"type":"Feature","id":"103","properties":{"name":"Luzern"},"geometry":{"type":"Polygon","coordinates":[[[8.258708341612641,47.287193780787042],[8.261732270709674,47.282541129764603],[8.270675534461407,47.283476902307676],[8.273209415429674,47.280647251713425],[8.278633704391412,47.282123265081893],[8.286910304383772,47.279285197880213],[8.297965659015016,47.272003102641342],[8.300254883237983,47.271483871110604],[8.294433924661679,47.265388857706739],[8.2990418706433,47.255483250625616],[8.299596203615369,47.254717649221583],[8.301141303155958,47.252264429981011],[8.306650273204371,47.250753832773576],[8.314824063416189,47.239730699852743],[8.314161867141635,47.235076236094777],[8.318438032384259,47.223460972403828],[8.320704576450813,47.221126825667888],[8.319451811797535,47.215619391706099],[8.325193219203218,47.214713251792972],[8.327321069641446,47.210791201880944],[8.330079858923588,47.202347504629159],[8.330436844717823,47.197354602947634],[8.338200761708846,47.18858468211738],[8.33926145747693,47.184252979397527],[8.338974997999193,47.177477420052746],[8.349112494982871,47.166009720609658],[8.347606061480706,47.16454881682661],[8.358106869060622,47.156791570525492],[8.358353866432648,47.153287170381837],[8.360905246556603,47.152525118642906],[8.362168827004453,47.146099173303234],[8.374820186478187,47.143050696555989],[8.37608038922987,47.139254709851137],[8.389974503245211,47.139769355243004],[8.405290545417776,47.137480027819066],[8.412205578568972,47.140566756471877],[8.416758971969584,47.130557447577523],[8.415394210185477,47.124415275245163],[8.4203159778656,47.122628759348274],[8.430394442597567,47.123319941231003],[8.441609146265574,47.129473321646685],[8.445423932917841,47.12884627495162],[8.44944313494533,47.130961238407458],[8.455600609608394,47.113448280379409],[8.465853858423593,47.11706509040657],[8.480371616513301,47.126327520615106],[8.493732571099343,47.113732466925967],[8.493044307059714,47.100181437587644],[8.476260364936234,47.106138594825218],[8.473656522278072,47.112209043656236],[8.464338504178444,47.110967878550319],[8.449997285622416,47.114426172753433],[8.448287376868073,47.111202500026309],[8.442883049297157,47.111630618378655],[8.437489885105526,47.109312635537897],[8.437358241965907,47.10625832744261],[8.420571631800504,47.101792988216495],[8.409389881917178,47.092712637833955],[8.410677616802399,47.08593957537655],[8.407000278734234,47.079446640274696],[8.389148870825286,47.07067854264232],[8.389423359674883,47.068085449596708],[8.390514281005945,47.061329236698988],[8.400470761288434,47.059680092401898],[8.431942801173411,47.065476553150383],[8.44137729829801,47.063089300297804],[8.445984197815353,47.060348791114869],[8.445915175162533,47.058265716524147],[8.461832479205537,47.050240565572274],[8.464859439917387,47.048422581244488],[8.469922740965412,47.047481950359462],[8.475170185125066,47.043134162862209],[8.501244033481273,47.024319205314754],[8.50808770234095,47.024128624551643],[8.513488094663645,47.021689126976007],[8.513538589699371,47.012557908338493],[8.509040544367497,47.004496453459161],[8.483113834210211,46.996750858890493],[8.468156458228679,46.996524666290618],[8.469058886892261,47.009290687047013],[8.458465115445625,47.011334044212425],[8.427974972225499,47.017208788803416],[8.426003140152991,46.998142390859876],[8.396342629496399,47.000872965226392],[8.38557578991546,46.998319721580863],[8.382689180037637,47.001378525304823],[8.38469465352596,47.002920642001257],[8.3837887527198,47.017716183693466],[8.36850384806187,47.019955046165634],[8.334445002257846,46.989010985084974],[8.318842492456758,46.999566756594447],[8.29478148057952,46.998146808595521],[8.293972106722485,46.996209690713513],[8.288854710124776,46.994593354943738],[8.281337510349607,46.995710125728053],[8.277987016916871,46.997978914042314],[8.265489095139099,46.99818229536104],[8.260033921888148,46.996271238132216],[8.243961726009282,46.986015439748542],[8.23770730917432,46.991831732328166],[8.228059570627286,46.99261577098595],[8.218092213480094,46.981094408734911],[8.223051991522622,46.975727630870523],[8.228872277822356,46.973146419434983],[8.227025985474327,46.969228043593873],[8.203020197679157,46.966930653543805],[8.187331834310058,46.971746656593695],[8.181916357069548,46.968525765322234],[8.176663205996588,46.968444909891438],[8.162250442418701,46.963484058320141],[8.150249635342711,46.957271744197733],[8.153488283763453,46.949954046398027],[8.16484097620244,46.939603909497642],[8.15686263585561,46.9333965913331],[8.134651930573797,46.922254632201025],[8.122241470094803,46.909166936840222],[8.111262155571406,46.892732954516063],[8.107601750140764,46.894891384402669],[8.106428286138554,46.898443570101797],[8.108540110720778,46.908277342090905],[8.100695156119857,46.909087658107929],[8.094778280737318,46.911977513987765],[8.08583863932656,46.906073409731498],[8.082591672448897,46.899176189838073],[8.069822334223316,46.895729544220629],[8.069677622206198,46.890768405338939],[8.066996621042579,46.887827206314654],[8.071002349928307,46.881560448369157],[8.070484434669966,46.87756116924411],[8.071591058664739,46.873718453403768],[8.069692960260385,46.868795745171781],[8.065978146645547,46.866973874545089],[8.065677228437142,46.859603630249524],[8.059143422895309,46.858324079223053],[8.055980566001033,46.849303319072597],[8.045758660817285,46.844178328054674],[8.042195606435596,46.836487957628009],[8.06442950627966,46.807681956811237],[8.063861979193641,46.802981599863116],[8.054883121249055,46.798640460281334],[8.056090786493394,46.792947876684963],[8.046936476385014,46.787115045692921],[8.038983951305264,46.787592078231022],[8.031380430669238,46.7902505936257],[8.017331860093083,46.788224303775522],[8.004866491031763,46.783213172958035],[7.995744540844482,46.781770425989208],[7.994081465116138,46.77888788127261],[7.984570127656698,46.774989809649838],[7.973477004854622,46.778365677809028],[7.968702113995746,46.785128637666261],[7.95402954875322,46.791729621483533],[7.95348935905167,46.794233320893198],[7.95081530300244,46.79965844122863],[7.946744816814455,46.805251336063925],[7.922389187157637,46.820007893028453],[7.877076896600308,46.837069928639437],[7.869793743661381,46.847158453503916],[7.867291822258224,46.858681145748371],[7.869491406962538,46.864349374479218],[7.864682887983847,46.866285336437713],[7.864263756793898,46.869559052401925],[7.857262108431918,46.871458746553145],[7.856158464649989,46.880852550661764],[7.858598741805428,46.885294064173728],[7.873047736901811,46.889674635622953],[7.875327725347473,46.895762179669092],[7.88179558108695,46.899659051429403],[7.879793655470434,46.901269014319048],[7.883116628699201,46.906635977272799],[7.880261885939976,46.910800958553388],[7.875074156686146,46.91109396752897],[7.867441569447142,46.915117427135144],[7.872859733449604,46.92440864524356],[7.876926474215416,46.927375224539119],[7.897497790564691,46.934637699853027],[7.907925191245,46.932686567051718],[7.915258543138961,46.934637292877191],[7.920857732794263,46.941818280794969],[7.921676197355758,46.946733621793847],[7.929079046660894,46.948185831028191],[7.931650501056196,46.950513707400177],[7.932237475613928,46.961650537799841],[7.946117045748826,46.96885068136941],[7.943908999592087,46.977183051152004],[7.952427986420386,46.981258041345626],[7.948241188498868,46.993302311789421],[7.956203409686324,47.003423667679179],[7.950077186668029,47.007044560054609],[7.94114261117496,47.005636847840627],[7.932662633363962,47.004248569305361],[7.922867218727436,47.010553280669122],[7.901824565901308,47.006252456662388],[7.896925991383162,47.013037284160085],[7.900534766314534,47.017977252609839],[7.894747984192784,47.022165335883955],[7.892366915511619,47.030100971168622],[7.884066438021327,47.033276543055493],[7.881589456960211,47.040592308917262],[7.874757875413493,47.040960816864455],[7.869530470752506,47.046647692471552],[7.866117167520772,47.054004379346821],[7.87390132482353,47.061705431352998],[7.871158178925148,47.062523804851494],[7.871615474538269,47.06483082372489],[7.876765646202387,47.070601306352401],[7.878958730762275,47.078799211766672],[7.876702378000228,47.079653077888935],[7.880135035039561,47.081265860109689],[7.878265440069917,47.08197901816655],[7.880837610217953,47.085406439991822],[7.880481764128517,47.089974858018863],[7.877901487050507,47.092946831865262],[7.879507536189376,47.095521506315549],[7.873591656871788,47.09784275295636],[7.876189430889137,47.101657111846478],[7.872908388017631,47.104301426416924],[7.87494828720229,47.109436008147604],[7.868144764723591,47.111974664317039],[7.870041584887917,47.115907287756791],[7.866968053642652,47.116651913180384],[7.868189851085933,47.12136648971147],[7.873524886263175,47.124055266443236],[7.886175673182394,47.12858030464465],[7.886492123412161,47.131685917308644],[7.889796697209368,47.1320360707345],[7.890097054364099,47.140724819044642],[7.882302151295324,47.147442419576947],[7.876232468578922,47.157442567303839],[7.876980751161718,47.165799060814749],[7.883257038825063,47.172739046607575],[7.881055690283543,47.176158734987652],[7.875870809020689,47.183218862467754],[7.859591899643392,47.192794448423626],[7.859952727478472,47.198617959876181],[7.856260426751605,47.200711527422634],[7.848524214729334,47.21121506926746],[7.846909288295022,47.217228809743922],[7.838575260162176,47.223053551549704],[7.836413046055225,47.224459792989599],[7.83866605711435,47.234818579302384],[7.842002810196269,47.235717220501137],[7.853209006227106,47.232423642662759],[7.867394445301208,47.237296085915553],[7.894658143893491,47.242609984706441],[7.910100607973146,47.243946412834951],[7.92192237082728,47.237804920342199],[7.933482481494659,47.235895600827874],[7.961596351464944,47.254568413027961],[7.951651178148921,47.265693362001201],[7.949332302414597,47.271438099450187],[7.950635377714423,47.274782784494775],[7.956019902920867,47.276859710789765],[7.971664641399197,47.276114180473094],[7.973452596638413,47.274486354118501],[7.986886995534561,47.276023293668985],[7.99529246213315,47.281553285546558],[7.997656868914262,47.279766881470536],[8.004790359621177,47.274372378950872],[8.004802624245297,47.271188354679047],[8.013753495141088,47.262037006544155],[8.017521707835495,47.255936764489228],[8.01585418781614,47.244113738002589],[8.028425036578337,47.240949065053812],[8.062974589407414,47.246669358767591],[8.056572039118441,47.255438695955164],[8.058597257951554,47.256706651145421],[8.072660709607106,47.255054035938706],[8.078368945598196,47.260043433507079],[8.088281559117975,47.262879061721442],[8.098773789460159,47.260189395622859],[8.105931619638362,47.252103974810744],[8.109084758254614,47.244547536086543],[8.119574952948495,47.24385754416376],[8.12441675136381,47.241369331795255],[8.129702170117305,47.243336149020273],[8.133960630436611,47.246474532624575],[8.142684745775298,47.247277366050902],[8.165147255476464,47.250181368706649],[8.174900677351101,47.253536350763802],[8.17970482656917,47.25043878096298],[8.180147622237248,47.245560121846083],[8.175130876708288,47.240114296335037],[8.171111025901425,47.240177662503449],[8.169774058548869,47.241949429216781],[8.155941434374837,47.239419047278211],[8.156005452063118,47.237896275415146],[8.162111236912882,47.235801886053181],[8.160009882713094,47.234437761290046],[8.160762477272069,47.231751756390352],[8.165565348743646,47.228439625855934],[8.172057571940613,47.228154924631077],[8.174110557623475,47.227487812571091],[8.172775132697522,47.225041152827814],[8.175983336476026,47.221902620729139],[8.185435059623858,47.222465305903725],[8.194017282694356,47.226306129661779],[8.205053154768265,47.225990562746688],[8.202744415021973,47.23001881460744],[8.204495756333573,47.242641925795795],[8.207788209897107,47.247347786482564],[8.219742472118419,47.252161165691781],[8.222479219462818,47.258749382831184],[8.223295109250431,47.260713181399161],[8.228574366959078,47.273417658889095],[8.242380609466254,47.272318390650646],[8.242224042944606,47.278720998049593],[8.24865423649654,47.281197951141316],[8.250716725702379,47.286086880331112],[8.258708341612641,47.287193780787042]]]}},\
		{"type":"Feature","id":"105","properties":{"name":"Schwyz"},"geometry":{"type":"Polygon","coordinates":[[[8.827353710931417,47.210053082305038],[8.839709797312933,47.208216668184569],[8.860466900614043,47.20974585186012],[8.908255499472892,47.214707932897852],[8.919176753771277,47.215839000885353],[8.941405941832942,47.218138240689953],[8.955703015571199,47.216273652570486],[8.965791172201056,47.21743213244774],[8.971032067678498,47.216612236920525],[8.974292155482033,47.212802897329354],[8.969062773544112,47.210955288987996],[8.965328773212271,47.198161883996264],[8.957480935771594,47.199441947513193],[8.961894905842543,47.183924885967663],[8.961975008246629,47.179462254333757],[8.970358904115903,47.178806666894261],[8.973957803991574,47.182288456717565],[8.982413228750408,47.183016838928282],[8.994842834310527,47.179182431138898],[8.997586373131504,47.177854378707217],[8.996342576958533,47.176524348827115],[9.004714787206613,47.173261724691692],[8.991621836461448,47.16216664854435],[8.973482064940381,47.140104737591528],[8.967385083185087,47.13663476173933],[8.969367312025421,47.134504282078083],[8.965288386661214,47.121482002137313],[8.967127509824596,47.119178581866613],[8.971890528309109,47.118116440855296],[8.973684050875137,47.115099034348134],[8.969237299542588,47.10868261129049],[8.970635155292495,47.103772607211539],[8.9596860849033,47.100209188389108],[8.953866074140182,47.091486371508665],[8.975983388013937,47.085707836085788],[8.966418747829085,47.081414841430153],[8.961398513599027,47.075705620655533],[8.961524769842679,47.071587708341227],[8.950970561107342,47.06064337050222],[8.948063457015772,47.049358385335303],[8.940912456129883,47.047616675698521],[8.936914115182148,47.043661384855888],[8.92199616430363,47.038294651962666],[8.918092018152468,47.037917183717219],[8.914624225994409,47.039924353866787],[8.902152606632454,47.038062006504347],[8.900818111276692,47.032021451625951],[8.903606858064608,47.027261211177041],[8.892982247625076,47.023640282247158],[8.894937393170538,47.020899989927763],[8.900124524419189,47.021031218153823],[8.910475457098702,47.017046307509339],[8.911619793024329,47.008769261320417],[8.915534649447803,47.007421386658777],[8.918866501209253,47.001556441436982],[8.928509776338128,46.997446126827569],[8.937651024201859,46.98656698960324],[8.941495093023951,46.987591007909543],[8.940907763632614,46.984716097556905],[8.93224285361913,46.98230606854753],[8.945692708266654,46.967161699257538],[8.949842847907075,46.969532468882441],[8.949974064315329,46.967021355896456],[8.955666046695455,46.962949814742565],[8.971632174695745,46.959864168037257],[8.962359348962735,46.953816147275028],[8.961257197585924,46.947258111323023],[8.955543485733294,46.938650534882981],[8.957197747730753,46.933831808596487],[8.964120111776442,46.928296950568253],[8.962483231932344,46.926404796983],[8.948187159598374,46.925387449939471],[8.935374605332544,46.919853105073074],[8.911311040331082,46.910730425275617],[8.907449058930267,46.90747769005219],[8.901647429984511,46.907795080801257],[8.895175546446252,46.902926084086907],[8.886966945235846,46.902357431915512],[8.874421848207326,46.894977101313216],[8.8612687395525,46.894508773441181],[8.860333170018272,46.890476410226945],[8.853606264818193,46.885286134740348],[8.847833454673632,46.890996366673185],[8.848802113563105,46.91277226878524],[8.847065926272174,46.913780082489502],[8.842678167177587,46.909459587400725],[8.836114585027449,46.90768046971089],[8.827495222659609,46.922414821186457],[8.829774529966036,46.924065680732859],[8.830070289291234,46.930465480325864],[8.826763142188184,46.935714812811369],[8.814182662626186,46.938627904191215],[8.810694825829783,46.941455208969735],[8.797965428172565,46.936736651329866],[8.791957910164479,46.930782286472599],[8.787740174538232,46.930356977539319],[8.777836298418462,46.933136355277654],[8.774472712003307,46.939682507338006],[8.770920036465489,46.941503793349526],[8.749117840134948,46.933673210687253],[8.745140589833362,46.935211230698542],[8.744267787209953,46.932638321563957],[8.737421002791894,46.93238165277122],[8.73668941669562,46.930555465414542],[8.728917471008225,46.927762020503103],[8.717669388065666,46.918490847934372],[8.707764629382094,46.917164682112777],[8.698553245167979,46.924291124021032],[8.696531534078487,46.928801636448426],[8.700312109604841,46.932651879822068],[8.699800562258345,46.934805844982414],[8.692952459609934,46.946980190430942],[8.669568776780405,46.94407341507516],[8.636553079318226,46.949842736440736],[8.627384932341609,46.949818131547005],[8.62239509615484,46.952733011193139],[8.604393877337614,46.95196737762231],[8.601179369036959,46.975237074673899],[8.60413290451125,46.982332011671708],[8.603139629581595,46.986840158966899],[8.597138785770317,46.990211508279799],[8.582416382095991,46.993408967340194],[8.571040617064865,46.990157343144297],[8.561533196662063,46.986616187178676],[8.542688780652995,46.979593625090295],[8.519362000575104,46.979815878147136],[8.496621228468381,46.976429595510083],[8.465226751028545,46.984271552697237],[8.468156458228679,46.996524666290618],[8.483113834210211,46.996750858890493],[8.509040544367497,47.004496453459161],[8.513538589699371,47.012557908338493],[8.513488094663645,47.021689126976007],[8.50808770234095,47.024128624551643],[8.501244033481273,47.024319205314754],[8.475170185125066,47.043134162862209],[8.469922740965412,47.047481950359462],[8.464859439917387,47.048422581244488],[8.461832479205537,47.050240565572274],[8.445915175162533,47.058265716524147],[8.445984197815353,47.060348791114869],[8.44137729829801,47.063089300297804],[8.431942801173411,47.065476553150383],[8.400470761288434,47.059680092401898],[8.390514281005945,47.061329236698988],[8.389423359674883,47.068085449596708],[8.389148870825286,47.07067854264232],[8.407000278734234,47.079446640274696],[8.410677616802399,47.08593957537655],[8.409389881917178,47.092712637833955],[8.420571631800504,47.101792988216495],[8.437358241965907,47.10625832744261],[8.437489885105526,47.109312635537897],[8.442883049297157,47.111630618378655],[8.448287376868073,47.111202500026309],[8.449997285622416,47.114426172753433],[8.464338504178444,47.110967878550319],[8.473656522278072,47.112209043656236],[8.476260364936234,47.106138594825218],[8.493044307059714,47.100181437587644],[8.507938834688495,47.09489177363907],[8.521786696943398,47.089971098037388],[8.525701885314058,47.09165491584875],[8.539868270608254,47.091999583926317],[8.544200077497505,47.094457064740944],[8.563282382902782,47.092611541807351],[8.56333056913769,47.081771604234206],[8.572948303691264,47.082027702476474],[8.577592363523266,47.084484576167178],[8.587330000828935,47.08568140697632],[8.595487142336763,47.091290361152502],[8.6074500388884,47.091997047324242],[8.608699197343368,47.094451867981924],[8.611784257784183,47.094974107636467],[8.634636523171002,47.09334519230876],[8.641343418822014,47.094386665909063],[8.644910545806871,47.095860215390886],[8.649317180872295,47.103438738697982],[8.659773489172197,47.11092135096083],[8.659801999816553,47.114679267139302],[8.671818490472036,47.115685572781231],[8.670723578011488,47.119122480571505],[8.678274828713814,47.124526437184556],[8.681784775474021,47.125023011167336],[8.687078056700358,47.13630752781777],[8.684256499317254,47.140784635037221],[8.688496839116494,47.146083750855105],[8.701158410928659,47.150946112328803],[8.695822001296998,47.162940187335906],[8.692194743996895,47.163400348676547],[8.692048689374316,47.166714686773012],[8.691348111937984,47.169018973351214],[8.682622143046775,47.173965451382365],[8.681095250611639,47.183719705874829],[8.694182181365582,47.19635891580608],[8.702329992608641,47.197962947155354],[8.704042194259678,47.202302209833469],[8.710088326460639,47.200422761758666],[8.71309821837335,47.203037134906943],[8.721240978734366,47.204985528404421],[8.740524834389184,47.211579847316976],[8.79337013253198,47.222564693812622],[8.808598067123651,47.220089829702829],[8.816325542378326,47.2144192283546],[8.827353710931417,47.210053082305038]]]}},\
		{"type":"Feature","id":"109","properties":{"name":"Zug"},"geometry":{"type":"Polygon","coordinates":[[[8.418277180486022,47.226771535223676],[8.42168464493971,47.223320680558963],[8.429758736866996,47.224951022021585],[8.437157017449776,47.223686555175341],[8.441121666597756,47.225215218662989],[8.443800335498009,47.222637513284667],[8.446639981074158,47.223378925538611],[8.44792337060729,47.22010972933338],[8.452096966852984,47.219600419415549],[8.452944751833668,47.21776057542494],[8.456678015754976,47.218571838952265],[8.461402995037126,47.213631063749332],[8.470090427908701,47.213404440761494],[8.473835673159703,47.210624265133092],[8.473296587156355,47.20852534322114],[8.476219839957201,47.210021423167447],[8.479897424295318,47.208621548130843],[8.489131822365005,47.210813667751481],[8.498394219517891,47.212069533749357],[8.512332080576709,47.215518963482104],[8.512563838715653,47.21941481156869],[8.531079447708958,47.217562731491562],[8.532617018975298,47.221369416340984],[8.536362118974131,47.220600666045833],[8.539155142708525,47.222905499717392],[8.543440103516414,47.222047008793353],[8.552954839690512,47.221655526165108],[8.553836415122666,47.223237118873492],[8.560344781777083,47.219544136918444],[8.574363083557836,47.21706812989359],[8.577168878166111,47.218660388616087],[8.583390206328957,47.217486697341876],[8.58101389444203,47.214567083577265],[8.582601541734174,47.210645577723966],[8.587879720267232,47.212569935336418],[8.594160570658572,47.21205369936056],[8.597692224866437,47.208944742559027],[8.596328429541282,47.204890717103495],[8.59835090573845,47.201773613568612],[8.603149949821448,47.203038090444188],[8.605538614237743,47.205134635920643],[8.608894648698625,47.204437591330581],[8.615162474048098,47.199340446844452],[8.617393145816941,47.192289040383045],[8.620901421719902,47.190329655052317],[8.620629858606909,47.187746070552578],[8.628113805876616,47.179512636830168],[8.623993307287813,47.173338599145737],[8.632798241774154,47.171871450797937],[8.639363926613564,47.171469258974284],[8.641671450446657,47.168929393961285],[8.652286173202754,47.171038156101737],[8.66073027440922,47.170310375397243],[8.661229145251101,47.160951269428452],[8.665773192115367,47.159665681383913],[8.674978204327683,47.159444859923653],[8.692194743996895,47.163400348676547],[8.695822001296998,47.162940187335906],[8.701158410928659,47.150946112328803],[8.688496839116494,47.146083750855105],[8.684256499317254,47.140784635037221],[8.687078056700358,47.13630752781777],[8.681784775474021,47.125023011167336],[8.678274828713814,47.124526437184556],[8.670723578011488,47.119122480571505],[8.671818490472036,47.115685572781231],[8.659801999816553,47.114679267139302],[8.659773489172197,47.11092135096083],[8.649317180872295,47.103438738697982],[8.644910545806871,47.095860215390886],[8.641343418822014,47.094386665909063],[8.634636523171002,47.09334519230876],[8.611784257784183,47.094974107636467],[8.608699197343368,47.094451867981924],[8.6074500388884,47.091997047324242],[8.595487142336763,47.091290361152502],[8.587330000828935,47.08568140697632],[8.577592363523266,47.084484576167178],[8.572948303691264,47.082027702476474],[8.56333056913769,47.081771604234206],[8.563282382902782,47.092611541807351],[8.544200077497505,47.094457064740944],[8.539868270608254,47.091999583926317],[8.525701885314058,47.09165491584875],[8.521786696943398,47.089971098037388],[8.507938834688495,47.09489177363907],[8.493044307059714,47.100181437587644],[8.493732571099343,47.113732466925967],[8.480371616513301,47.126327520615106],[8.465853858423593,47.11706509040657],[8.455600609608394,47.113448280379409],[8.44944313494533,47.130961238407458],[8.445423932917841,47.12884627495162],[8.441609146265574,47.129473321646685],[8.430394442597567,47.123319941231003],[8.4203159778656,47.122628759348274],[8.415394210185477,47.124415275245163],[8.416758971969584,47.130557447577523],[8.412205578568972,47.140566756471877],[8.414867469803854,47.145261503978951],[8.411952996158018,47.153606946859348],[8.414208583989097,47.157056339178212],[8.41452348333811,47.157395029136104],[8.415304129651181,47.164129705136709],[8.411878211484096,47.173264373214394],[8.402523053649174,47.176692463922649],[8.400263233063951,47.18358189295482],[8.405292241578096,47.19572762775158],[8.400486077341176,47.208329815700047],[8.4008178428377,47.215096579521671],[8.396486119900679,47.219965557128667],[8.396021387259914,47.228876168617361],[8.405824049660762,47.236715912404307],[8.408128515752747,47.242462435424613],[8.41080167824277,47.245495611963875],[8.410073361705294,47.248375752419747],[8.41399877452896,47.243670898834004],[8.416486668352507,47.241322264652752],[8.414195709741536,47.239154926381474],[8.417025833707076,47.233772003044109],[8.418277180486022,47.226771535223676]]]}},\
		{"type":"Feature","id":"99","properties":{"name":"Zugersee"},"geometry":{"type":"Polygon","coordinates":[[[8.518902173309231,47.06147872836263],[8.514157331925635,47.061431835819675],[8.508744413418153,47.068102828272814],[8.487080741258049,47.078715603850981],[8.470197146383185,47.087752326019071],[8.463746648213,47.095861135297518],[8.476220497090168,47.106269594515368],[8.486089982167478,47.109629176249193],[8.487019430723644,47.113915680957263],[8.473291177191017,47.114414378481086],[8.467037874363832,47.118535738090351],[8.463645018969197,47.129294379448638],[8.468822254044422,47.136848212729809],[8.457908213947251,47.141418023977018],[8.461608952187399,47.155910763992381],[8.455679445763687,47.167139658398824],[8.453869571792026,47.173782555928213],[8.475715596314114,47.183116921382293],[8.479356696246692,47.178537851784647],[8.496964114146397,47.176853840537611],[8.514476701115894,47.169475087264608],[8.511198630544582,47.154054962739224],[8.506041379409941,47.146760617880133],[8.506343557196965,47.136260425111438],[8.495444757230556,47.123371952242799],[8.500382350477977,47.114639274566194],[8.522295312779079,47.090048309726789],[8.528212474675744,47.071055353894792],[8.518902173309231,47.06147872836263]]]}},\
		{"type":"Feature","id":"98","properties":{"name":"Aegerisee"},"geometry":{"type":"Polygon","coordinates":[[[8.588377043501271,47.137679310670499],[8.598008216011726,47.136915343575573],[8.604675188818925,47.137448096867864],[8.613000362263705,47.132054128068546],[8.620017891442906,47.133433133029662],[8.630147692919845,47.129705018570434],[8.64333123044711,47.114354705967337],[8.640093095917059,47.103580246542862],[8.63065702169243,47.102264682808006],[8.624319217527326,47.10756942313666],[8.624364460226401,47.113034051695344],[8.621484448655124,47.114195457109091],[8.591395507796152,47.12272225569204],[8.595680723183504,47.128362467567882],[8.588377043501271,47.137679310670499]]]}}\
		]}';
		
		json=JSON.parse(realjson);
		
		//d3.json("states.json", function (json) {

		for (var i = 0; i < Atts[number].going.length; i++) {
			var dataName = Atts[number].going[i].Zielkanton;
			var tempObj = {};
			for (var propt in Atts[number].going[i]) {
				var valz = parseFloat(Atts[number].going[i][propt]);
				tempObj[propt] = valz;
			}
			
			//Find the corresponding state inside the GeoJSON
			for (var j = 0; j < json.features.length; j++) {
				var jsonState = json.features[j].properties.name;
				if (dataName == jsonState) {
					matched = true;
					json.features[j].properties.Zielkanton = dataName;
					json.features[j].id = dataName;
					json.features[j].abbrev = Atts[number].going[i].abbrev;
					json.features[j].ind = i;
					for (var propt in tempObj) {
						if(!isNaN(tempObj[propt])) {
							json.features[j].properties[propt] = tempObj[propt];
						}
					}
					break;
				}
			}
		}

		
		//Bind data and create one path per GeoJSON feature
		Atts[number].g.selectAll("path")
			.data(json.features)
			.enter()
			.append("path")
			.attr("class", "state")
			.attr("id", function(d) {
				return d.properties.Zielkanton;
				})
			.attr("d", path)
			.attr("stroke-width", 1)
			.style("stroke", "#fff")
			.style("fill", function(d) {
				return cantoncolors[d.ind];
				})
			.style("fill-opacity", function(d) {
				var opac=0.4;
				if (d.ind>=5) {opac=0.7};
				return opac;
				})
				
			.on("click", function(d) {clicked(d)})
			.attr("clip-path", "url(#clip"+number+")");

		Atts[number].g.selectAll("circle")
			.data(json.features)
			.enter().append("circle")
			.attr("cx", function(d) {
				var centname = d.properties.name;
				var ctroid;
				ctroid = path.centroid(d)[0];
				return ctroid;
			})
			.attr("cy", function(d) {
				var centname = d.properties.name;
				var ctroid;
				ctroid = path.centroid(d)[1];
				return ctroid;
			})
			.attr("r", function(d) {
				var diff = d.properties.total_imm - d.properties.total_emm;
				//return circleSize(Math.sqrt(Math.abs(diff)/Math.PI));
				return 1;
		
			})
			.attr("class", "circ")
			.attr("id", function(d) {return d.abbrev;})
			.attr("fill", function(d) {
				var diff = d.properties.total_imm - d.properties.total_emm;
				if(diff>0) {
					return colors[0];
				} else {
					return colors[1];
				}
			})
			.attr("fill-opacity", "0")
			.attr("stroke", function(d) {
				return cantoncolors[d.ind];
				})
			.attr("stroke-weight", "0.5")
			.attr("stroke-opacity", "0")
			.on("click", function(d) {clicked(d)});

			initTip(number);
			callTip(number);

		//});
	
	});

function clicked(selected) {
	//var coming = selected.properties;
	var selname = selected.id;

/*
	d3.selectAll(".circ")
	.attr("fill-opacity", "0.2");
*/
  
	var homex = path.centroid(selected)[0];
	var homey = path.centroid(selected)[1];

	/*Nur eine Linie für Bilanz (Original)*/
	/*g.selectAll(".totalline")
		.attr("stroke-dasharray", 0)
		.remove()
	
  
	g.selectAll(".totalline")
		.data(going)
		.enter().append("path")
		.attr("class", "totalline")
  
		.attr("d", function(d,i) {
			//console.log(coming[i][selname], coming[i].Zielkanton);
			//console.log(going[i][selname], going[i].Zielkanton);
			var abb = d.abbrev;
			var finalval = coming[i][selname] - going[i][selname];
			
			var theState = d3.select("#" + abb);
  	
			if(!isNaN(finalval)) {
				var startx = path.centroid(theState[0][0].__data__)[0];
				var starty = path.centroid(theState[0][0].__data__)[1];
				
				if(finalval > 0) {
					return "M" + startx + "," + starty + " Q" + (startx + homex)/2 + " " + (starty + homey)/1.5 +" " + homex+" "   + homey;
				} else {
					return "M" + homex + "," + homey + " Q" + (startx + homex)/2 + " " + (starty + homey)/2.5 +" " + startx+" "   + starty;
				}
			}
		})
  	
		.call(transition)

		.attr("stroke-width", function(d,i) {
			var finalval = coming[i][selname] - going[i][selname];
	
			//console.log(coming[i]);
			//console.log(finalval);
			var lineWidth=lineSize(parseFloat(Math.abs(finalval)));
			if (finalval==0) {lineWidth=0;}
			return lineWidth;
	
			//return lineSize(parseFloat(Math.abs(finalval)));
		})
  
		.attr("stroke", function(d,i) {
			var finalval = coming[i][selname] - going[i][selname];
			if(finalval > 0) {
				return colors[0];
			} else {
				return colors[1];
			}
		})
		.attr("fill", "none")
		.attr("opacity", 0.5)
		.attr("stroke-linecap", "round");*/

	/*Linie vom Objekt*/
	Atts[number].g.selectAll(".comingline")
		.attr("stroke-dasharray", 0)
		.attr("stroke-width", 0)
		.remove()
		
	Atts[number].g.selectAll('.cominglinetext').remove()
		
	Atts[number].g.selectAll(".comingline")
		.data(Atts[number].going)
		.enter().append("path")
		.attr("class", "comingline")
    	.attr("id", function(d,i) {
			return d.abbrev + selected.abbrev;
		})
  
		.attr("d", function(d,i) {
			//console.log(coming[i][selname], coming[i].Zielkanton);
			//console.log(going[i][selname], going[i].Zielkanton);
			var abb = d.abbrev;
			var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
			var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
			var finalval = Atts[number].going[theSelectedState[0][0].__data__.ind][theState[0][0].__data__.id];
			//console.log(coming[i][selname])
			//console.log(going[i][selname])
			//console.log(coming[5][theState[0][0].__data__.id]) 
			//console.log(going[5][theState[0][0].__data__.id])  			
			if(!isNaN(finalval)) {
				var startx = path.centroid(theState[0][0].__data__)[0];
				var starty = path.centroid(theState[0][0].__data__)[1];
				
				//Variablen um die Bigung hinzukriegen
				var laenge=40; //Länge des Abstands von der Geraden
				var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
				var ausrichter = startx > homex ? -1 : 1; //Damit die Linie immmer in die selbe Richtung gebogen wird
				var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
				var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1); //X--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
				
				//Linie definieren
				return "M" + startx + "," + starty + " Q" + ((startx + homex)/2+addx) + " " + ((starty + homey)/2+addy) +" " + homex+" "   + homey;
			}
		})
		
		//.call(transition)

		.attr("stroke-width", function(d,i) {
			var abb = d.abbrev;
			var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
			var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
			var finalval = Atts[number].going[theSelectedState[0][0].__data__.ind][theState[0][0].__data__.id];
		
			//console.log(coming[i]);
			//console.log(finalval);
			var lineWidth=lineSize(parseFloat(Math.abs(finalval)));
			if (finalval==0 || finalval=="N/A") {lineWidth=0;}
			return lineWidth;
	
			//return lineSize(parseFloat(Math.abs(finalval)));
		})

		// Linie neu berechnen um Platz für Pfeil zu schaffen
		.attr("d", function (d, i) {  

			var abb = d.abbrev;
						
			var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
			var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
			var finalval = Atts[number].going[theSelectedState[0][0].__data__.ind][theState[0][0].__data__.id];
			
			if(!isNaN(finalval)) {
				var startx = path.centroid(theState[0][0].__data__)[0];
				var starty = path.centroid(theState[0][0].__data__)[1];
				
				var pl = this.getTotalLength(); //Länge der ursprünglichen Linie errechnen
				var lw = d3.select(this).attr("stroke-width"); //Breite der Linie errechnen
				var r = 10+theSelectedState[0][0].r.animVal.value; //Radius des Zielkreises
				var m = this.getPointAtLength(pl-r-lw-(lw/3)); //Punkt bestimmen an dem die ursprüngliche Linie gekürzt wird
				var n = this.getPointAtLength(r+(lw*1)+(lw/3)); //Punkt bestimmen an dem die ursprüngliche Linie gekürzt wird
				
				//Variablen um die Bigung hinzukriegen
				var laenge=40/200*pl/pl*(pl-r-lw-(lw/3)); //Länge des Abstands von der Geraden (gekürzt um das Verhältnis Alte Länge zu Neue Länge, sowie gekurzt um dasungefähre Verhältnis zur Länge)
				var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
				var ausrichter = startx > homex ? -1 : 1; //Damit die Linie immmer in die selbe Richtung gebogen wird
				var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
				var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1); //X--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
				
				//Linie definieren
				var result = "M" + n.x + "," + n.y + " Q" + ((n.x + m.x)/2+addx) + " " + ((n.y + m.y)/2+addy) +" " + m.x+" "   + m.y;
				return result;
				}
		})
		
		.attr("stroke", function(d,i) {
			return colors[0];
		})
		.attr("fill", "none")
		.attr("opacity", 0.8)
		.attr("stroke-linecap", "round")
		.call(Atts[number].tips)
		.on('mouseover', function(d, i) {
			var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
			Atts[number].tips.show(d, $("circle")[i]);
			last_tip = d.key;
			var ziel=d.Zielkanton
			var target=theSelectedState[0][0].__data__.id;
			tiptext= "<span>Pendler von <b>" + d.Zielkanton + "</b> nach <b>" + theSelectedState[0][0].__data__.id + "</b>:</span><br/><span>" + germanFormatters.numberFormat(",")(theSelectedState[0][0].__data__.properties[ziel]) + "</span>";
			$("#d3-tip"+number).html(tiptext)
			var bordercolor=colors[0]
			$("#d3-tip"+number).css("border-left", bordercolor +" solid 5px");
			offsetx=(Number($("#d3-tip"+number).css( "left" ).slice(0, -2)) + 20 - ($("#d3-tip"+number).width()/2));
			offsety=(Number($("#d3-tip"+number).css( "top" ).slice(0, -2)) + 5 - ($("#d3-tip"+number).height())- parseFloat($(this).css("stroke-width"))/2);
			$("#d3-tip"+number).css( 'left', offsetx);
			$("#d3-tip"+number).css( 'top', offsety);
		})
		.on('mouseout', function(d) {
			last_tip = null;
			Atts[number].tips.hide(d);
		})
		;
		
	Atts[number].g.selectAll('.comingline').filter(function(d){ return d3.select(this).style('stroke-width') == '0' }).remove();

	Atts[number].g.selectAll(".comingline").call(transition);

	/*Linie zum Objekt*/
	Atts[number].g.selectAll(".goingline")
		.attr("stroke-dasharray", 0)
		.attr("stroke-width", 0)
		.remove()
		
	Atts[number].g.selectAll('.goinglinetext').remove()
  
	Atts[number].g.selectAll(".goingline")
		.data(Atts[number].going)
		.enter().append("path")
		.attr("class", "goingline")
    	.attr("id", function(d,i) {
			return selected.abbrev + d.abbrev;
		})

  
		.attr("d", function(d,i) {
			//console.log(coming[i][selname], coming[i].Zielkanton);
			//console.log(going[i][selname], going[i].Zielkanton);
			var abb = d.abbrev;
			var finalval = Atts[number].going[i][selname];
			
			var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
  	
			if(!isNaN(finalval)) {
				var startx = path.centroid(theState[0][0].__data__)[0];
				var starty = path.centroid(theState[0][0].__data__)[1];
				
				var laenge=40;
				var steig=-(starty-homey)/(startx-homex);
				var ausrichter = startx > homex ? 1 : -1;
				var addy=ausrichter*laenge/Math.sqrt(steig*steig+1);
				var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1);
				return "M" + homex + "," + homey + " Q" + ((startx + homex)/2+addx) + " " + ((starty + homey)/2+addy) +" " + startx+" "   + starty;
			}
		})
		
		//.call(transition)
		
		.attr("stroke-width", function(d,i) {
			var finalval = Atts[number].going[i][selname];
	
			//console.log(coming[i]);
			//console.log(finalval);
			var lineWidth=lineSize(parseFloat(Math.abs(finalval)));
			if (finalval==0 || finalval=="N/A") {lineWidth=0;}
			return lineWidth;
	
			//return lineSize(parseFloat(Math.abs(finalval)));
		})
		
  		// Linie neu berechnen um Platz für Pfeil zu schaffen
		.attr("d", function (d, i) {  

			var abb = d.abbrev;
			var finalval = Atts[number].going[i][selname];
			
			var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
			var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
			
			if(!isNaN(finalval)) {
				var startx = path.centroid(theState[0][0].__data__)[0];
				var starty = path.centroid(theState[0][0].__data__)[1];
				
				var pl = this.getTotalLength(); //Länge der ursprünglichen Linie errechnen
				var lw = d3.select(this).attr("stroke-width"); //Breite der Linie errechnen
				var r = 10+theState[0][0].r.animVal.value; //Radius des Zielkreises
				var	m = this.getPointAtLength(pl-r-(lw*1)-(lw/3)); //Punkt bestimmen an dem die ursprüngliche Linie gekürzt wird
				var n = this.getPointAtLength(r+(lw*1)+(lw/3)); //Punkt bestimmen an dem die ursprüngliche Linie gekürzt wird
				//Variablen um die Bigung hinzukriegen
				var laenge=40/200*pl/pl*(pl-r-lw-(lw/3)); //Länge des Abstands von der Geraden (gekürzt um das Verhältnis Alte Länge zu Neue Länge, sowie gekurzt um dasungefähre Verhältnis zur Länge)
				var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
				var ausrichter = startx > homex ? 1 : -1; //Damit die Linie immmer in die selbe Richtung gebogen wird
				var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
				var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1); //X--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
				
				//Linie definieren
				var result = "M" + n.x + "," + n.y + " Q" + ((n.x + m.x)/2+addx) + " " + ((n.y + m.y)/2+addy) +" " + m.x+" "   + m.y;
				return result;
				}
		})
  
		.attr("stroke", function(d,i) {
			return colors[1];
		})
		.attr("fill", "none")
		.attr("opacity", 0.8)
		.attr("stroke-linecap", "round")
		.call(Atts[number].tips)
		.on('mouseover', function(d, i) {
			var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
			Atts[number].tips.show(d, $("circle")[theSelectedState[0][0].__data__.ind]);
			last_tip = d.key;
			target=theSelectedState[0][0].__data__.id;
			id=theSelectedState[0][0].__data__.ind
			tiptext= "<span>Pendler von <b>" + target + "</b> nach <b>" + d.Zielkanton + "</b>:</span><br/><span>" + germanFormatters.numberFormat(",")(d[target]) + "</span>";
			$("#d3-tip"+number).html(tiptext)
			var bordercolor=colors[1]
			$("#d3-tip"+number).css("border-left", bordercolor +" solid 5px");
			offsetx=(Number($("#d3-tip"+number).css( "left" ).slice(0, -2)) + 20 - ($("#d3-tip"+number).width()/2));
			offsety=(Number($("#d3-tip"+number).css( "top" ).slice(0, -2)) + 5 - ($("#d3-tip"+number).height())- parseFloat($(this).css("stroke-width"))/2);
			$("#d3-tip"+number).css( 'left', offsetx);
			$("#d3-tip"+number).css( 'top', offsety);
		})
		.on('mouseout', function(d) {
			last_tip = null;
			Atts[number].tips.hide(d);
		});
		
		;
		
		Atts[number].g.selectAll('.goingline').filter(function(d){ return d3.select(this).style('stroke-width') == '0' }).remove();

		Atts[number].g.selectAll(".goingline").call(transition);
		
		var IE = (navigator.userAgent.indexOf("Edge") > -1 || navigator.userAgent.indexOf("Trident/7.0") > -1) ? true : false;
		if ( IE ){ var timeout=0 } else { var timeout=1500 };
		setTimeout(function() {
			Atts[number].g.selectAll(".comingline")
				.attr({
					"class":"comingline",
					"marker-end":"url(#arrowblue)"
				});
			Atts[number].g.selectAll(".goingline")
				.attr({
					"class":"goingline",
					"marker-end":"url(#arrowred)"
				});
			Atts[number].g.selectAll('#' + Atts[number].chartcontainer + ' .cominglinetext')
				.data(Atts[number].going)
				.enter()
				.append("text")
				.attr("text-anchor", "middle")
				/*.attr("transform", function(d,i) {
					var abb = d.abbrev;
					var theState = d3.select("#" + abb);
			
					var startx = path.centroid(theState[0][0].__data__)[0];
					var starty = path.centroid(theState[0][0].__data__)[1];
					var laenge=20; //Länge des Abstands von der Geraden
					var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
					var ausrichter = startx > homex ? -1 : 1; //Damit die Linie immmer in die selbe Richtung gebogen wird
					var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
					var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1);
					return "translate("+(((homex+startx)/2)+addx)+","+(((homey+starty)/2)+addy)+")"
				})*/
				//An Pfad anbauen funktioniert leider im online nicht
				/*.append("textPath") //append a textPath to the text element
				.attr("xlink:href", function (d) {
					return "#" + d.abbrev + selected.abbrev;
				}) //place the ID of the path here
				.style("text-anchor","middle") //place the text halfway on the arc
				.attr("startOffset", "50%")*/	
				.attr("class", "cominglinetext")
				.text(function (d) {
					var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
					var target=theSelectedState[0][0].__data__.id;
					var ziel=d.Zielkanton
					return germanFormatters.numberFormat(",")(theSelectedState[0][0].__data__.properties[ziel]);
				});
			Atts[number].g.selectAll('#' + Atts[number].chartcontainer + ' .goinglinetext')
				.data(Atts[number].going)
				.enter()
				.append("text")
				.attr("text-anchor", "middle")
				/*.attr("transform", function(d,i) {
					var abb = d.abbrev;
					var theState = d3.select("#" + abb);
			
					var startx = path.centroid(theState[0][0].__data__)[0];
					var starty = path.centroid(theState[0][0].__data__)[1];
					var laenge=20; //Länge des Abstands von der Geraden
					var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
					var ausrichter = startx > homex ? 1 : -1; //Damit die Linie immmer in die selbe Richtung gebogen wird
					var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
					var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1);
					return "translate("+(((homex+startx)/2)+addx)+","+(((homey+starty)/2)+addy)+")"
				})*/
				/*.append("textPath") //append a textPath to the text element
				.attr("xlink:href", function (d) {
					return "#" + selected.abbrev + d.abbrev;
				}) //place the ID of the path here
				.style("text-anchor","middle") //place the text halfway on the arc
				.attr("startOffset", "50%")*/
				.attr("class", "goinglinetext")
				.text(function (d) {
					var theSelectedState = d3.select("#" + Atts[number].chartcontainer + " #" + selected.abbrev);
					var target=theSelectedState[0][0].__data__.id;
					return germanFormatters.numberFormat(",")(d[target]);
				});
			Atts[number].g.selectAll('.cominglinetext').filter(function(d){ return d3.select(this).text() == '0'}).remove();
			Atts[number].g.selectAll('.cominglinetext').filter(function(d){ return d3.select(this).text() == 'NaN'}).remove();
			Atts[number].g.selectAll('.goinglinetext').filter(function(d){ return d3.select(this).text() == '0'}).remove();
			Atts[number].g.selectAll('.goinglinetext').filter(function(d){ return d3.select(this).text() == 'NaN'}).remove();
			Atts[number].g.selectAll('#' + Atts[number].chartcontainer + ' .cominglinetext')
				.attr("transform", function(d,i) {
					var abb = d.abbrev;
					var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
			
					var startx = path.centroid(theState[0][0].__data__)[0];
					var starty = path.centroid(theState[0][0].__data__)[1];
					var laenge=20; //Länge des Abstands von der Geraden
					var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
					var ausrichter = startx > homex ? -1 : 1; //Damit die Linie immmer in die selbe Richtung gebogen wird
					var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
					var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1);
					return "translate("+(((homex+startx)/2)+addx)+","+(((homey+starty)/2)+addy)+")"
				});
			Atts[number].g.selectAll('#' + Atts[number].chartcontainer + ' .goinglinetext')
				.attr("transform", function(d,i) {
					var abb = d.abbrev;
					var theState = d3.select("#" + Atts[number].chartcontainer + " #" + abb);
			
					var startx = path.centroid(theState[0][0].__data__)[0];
					var starty = path.centroid(theState[0][0].__data__)[1];
					var laenge=20; //Länge des Abstands von der Geraden
					var steig=-(starty-homey)/(startx-homex); //Steigung der Linie im Koordinatensystem errechnen
					var ausrichter = startx > homex ? 1 : -1; //Damit die Linie immmer in die selbe Richtung gebogen wird
					var addy=ausrichter*laenge/Math.sqrt(steig*steig+1); //Y--Koordinate des Punkts der senkrecht über de Linie mit Abstand Länge liegt
					var addx=ausrichter*laenge*steig/Math.sqrt(steig*steig+1);
					return "translate("+(((homex+startx)/2)+addx)+","+(((homey+starty)/2)+addy)+")"
				});
			}, timeout);
}

function transition(path) {
	var IE = (navigator.userAgent.indexOf("Edge") > -1 || navigator.userAgent.indexOf("Trident/7.0") > -1) ? true : false;
	if ( IE ){ } else {
	path.transition()
		.duration(1500)
		.attrTween("stroke-dasharray", tweenDash);
	}
}

function tweenDash() {
	var l = this.getTotalLength();
	var i = d3.interpolateString("0," + l, l + "," + l);
	return function(t) {return i(t)};
}

function initTip(number){
	last_tip = null;
	Atts[number].tips = d3.tip()
		.attr('class', 'd3-tip')
		.attr('id', 'd3-tip'+number)
		.direction('n')
		.offset([0, 0])
		.html("no data");
}

function callTip(number){
	
	//Nur für Kantone, nicht für Seen, deshalb Zwischenschritt
	var cantons = d3.selectAll("#"+ Atts[number].chartcontainer + " svg g circle, #" + Atts[number].chartcontainer +" svg g path").filter(function(d,i) {return d.ind < 6});
	
	cantons.each(function(d, i){
		d3.select(this)
		.call(Atts[number].tips)
		.on('mouseover', function(d, i) {
			if(d.key !== last_tip) {
				Atts[number].tips.show(d, $("circle")[d.ind]);
				last_tip = d.key;
			}
			if (d.name=="Steuerverwaltung") {
				tiptext= "<span>" + d.name + "</span><br/><span>Betrag: " + germanFormatters.numberFormat(",")(d.value) +  " Mio CHF</span>";
			} else {
				tiptext= "<span><b>" + d.id + "</b></span><br/><span>Zupendler: <b>" + germanFormatters.numberFormat(",")(d.properties.total_imm) + "</b><br>Wegpendler: <b>" + germanFormatters.numberFormat(",")(d.properties.total_emm) + "</b><br>Pendlersaldo: <b>" + germanFormatters.numberFormat(",")((d.properties.total_imm - d.properties.total_emm)) + "</b></span>";
			};
			$("#d3-tip"+number).html(tiptext);
			$("#d3-tip"+number).css("border-left", cantoncolors[d.ind] +" solid 5px");
			offsetx=(Number($("#d3-tip"+number).css( "left" ).slice(0, -2)) + 18 - ($("#d3-tip"+number).width()/2));
			offsety=(Number($("#d3-tip"+number).css( "top" ).slice(0, -2)) + 0 - ($("#d3-tip"+number).height()));
			$("#d3-tip"+number).css( 'left', offsetx);
			$("#d3-tip"+number).css( 'top', offsety);
		})
		.on('mouseout', function(d) {
			last_tip = null;
			Atts[number].tips.hide(d);
		})
	})
}

function simulateClick(elem /* Must be the element, not d3 selection */) {
    var evt = document.createEvent("MouseEvents");
    evt.initMouseEvent(
        "click", /* type */
        true, /* canBubble */
        true, /* cancelable */
        window, /* view */
        0, /* detail */
        0, /* screenX */
        0, /* screenY */
        0, /* clientX */
        0, /* clientY */
        false, /* ctrlKey */
        false, /* altKey */
        false, /* shiftKey */
        false, /* metaKey */
        0, /* button */
        null); /* relatedTarget */
    elem.dispatchEvent(evt);
}

$( document ).ready(function() {
	setTimeout(function() {
		simulateClick(d3.select("#"+ Atts[number].chartcontainer+" #ZG").node());
    }, 1500);
	
});

}

redraw(number);

function resizeMap(number) {
	d3.select("#d3-tip"+number).remove();
	d3.selectAll("#"+ Atts[number].chartcontainer + " svg").remove()
	redraw(number);
}

$(window).resize(function(){resizeMap(number)});	

var columns=["Zielkanton", "Restliche Schweiz", "Zürich", "Aargau", "Luzern", "Schwyz", "Zug"]									 
addDownloadButton(number);
addDownloadButtonPng(number)
addDataTablesButton(number, columns)

};